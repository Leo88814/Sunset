<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>找回密码</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="CSS/header.css" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="js/header-component.js"></script>
    <script src="js/footer-component.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="page-container">
        <header-component></header-component>
        <div class="content-wrap">
        <main class="container mt-5">
          <h2 class="mb-4">找回密碼</h2>
          <form @submit.prevent="submitForm">
            <div class="mb-3">
              <label for="email" class="form-label">電子郵件:</label>
              <input
                type="email"
                class="form-control"
                id="email"
                v-model="email"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">送出</button>
          </form>
          <p
            v-if="message"
            :class="{'text-success': isSuccess, 'text-danger': !isSuccess}"
            class="mt-3"
          >
            {{ message }}
          </p>
        </div>
        </main>
        <footer-component></footer-component>
      </div>
     
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const { createApp, ref } = Vue;

      const app = createApp({
        components: {
          "header-component": HeaderComponent,
          "footer-component": FooterComponent,
        },
        setup() {
          const email = ref("");
          const message = ref("");
          const isSuccess = ref(false);

          const submitForm = () => {
            // 这里应该是与后端API通信的代码
            // 以下是模拟的API调用
            setTimeout(() => {
              if (email.value.includes("@")) {
                message.value = "重置密碼信件已送至信箱，請查看。";
                isSuccess.value = true;
              } else {
                message.value = "Email格式不正確，請重新輸入。";
                isSuccess.value = false;
              }
            }, 1000);
          };

          return {
            email,
            message,
            isSuccess,
            submitForm,
          };
        },
      });

      app.mount("#app");
    </script>
  </body>
</html>
