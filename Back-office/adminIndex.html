<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>後台管理系統 - 主頁</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="css/Back-office.css" rel="stylesheet" />
    <script src="https://unpkg.com/vue@3"></script>
  </head>
  <body>
    <div id="app">
      <sidebar-component></sidebar-component>
      <header-component></header-component>
      <div class="content">
        <h2>歡迎來到後台管理系統</h2>
        <div class="user-info">
          <p>當前登入用戶: {{ username }}</p>
        </div>
        <div class="dashboard">
          <h3>系統概況</h3>
          <ul>
            <li>電影總數: {{ movieCount }}</li>
            <li>上映中電影: {{ activeMovieCount }}</li>
            <li>即將上映電影: {{ upcomingMovieCount }}</li>
          </ul>
        </div>
      </div>
    </div>

    <script src="js/common.js"></script>
    <script>
      const { ref, onMounted } = Vue;

      const app = Vue.createApp({
        components: {
          "sidebar-component": common,
          "header-component": header,
        },
        setup() {
          const username = ref("");
          const movieCount = ref(0);
          const activeMovieCount = ref(0);
          const upcomingMovieCount = ref(0);

          onMounted(() => {
            // 這裡可以從 localStorage 或 sessionStorage 獲取用戶名
            username.value = localStorage.getItem("username") || "未知用戶";

            // 這裡應該從後端 API 獲取實際數據
            // 以下僅為示例數據
            movieCount.value = 10;
            activeMovieCount.value = 5;
            upcomingMovieCount.value = 3;
          });

          return {
            username,
            movieCount,
            activeMovieCount,
            upcomingMovieCount,
          };
        },
      });

      app.mount("#app");
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
